@model BigData.ModelBuilding.Models.BuildingModel

<script type="text/javascript">
    var code = '@(Model.ModelCode)';

    $(document).ready(function () {
        readModelName();
    });
  
   
    function success(result)
    {
 
            if (result.State)
            {
                alert("1");
                readModelName();
                $('#resourceWindow').jqxWindow('close');
            }
            else {
                alert("资源保存失败，请检查您输入的数据有效性！");
            }
     }
    function readModelName()
    {
        alert(code);
        var url = "../ModelBuilding/GetFieldsInfo?code=" + code;
        $.ajax({
            url: url,
            success: function (data) {
                $("#fieldsInfo").html(data);
            },
            complete:
            {

            }
        });
    }
    function SwitchPanel(type) {
        switch (type) {
            case 1:
                $("#baseInfo").css("display", "");
                $("#modelInfo").css("display", "none");
                $("#fieldsInfo").css("display", "none")

                break;
            case 2:
                $("#baseInfo").css("display", "none");
                $("#modelInfo").css("display", "");
                $("#fieldsInfo").css("display", "none")
                this.className = "active"
                break;
            case 3:
                $("#baseInfo").css("display", "none");
                $("#modelInfo").css("display", "none");
                $("#fieldsInfo").css("display", "")
                break;
        }
    }
</script>
<ul class="nav nav-tabs">
    <li role="presentation" class="active"><a onclick="SwitchPanel(1)">基本信息</a></li>
    <li role="presentation"><a onclick="SwitchPanel(2)">模型信息</a></li>
    <li role="presentation" ><a onclick="SwitchPanel(3)">原型</a></li>
</ul>

@using (Ajax.BeginForm("EditBasicInfoModel", "ModelBuilding", new AjaxOptions { HttpMethod = "POST", OnSuccess = "success" }))
{
    <div class="form-horizontal" style="margin-top:15px;">
        <div id="baseInfo" style="display:block">
            <div class="form-group">
                @Html.LabelFor(model => model.Name, htmlAttributes: new { @class = "control-label col-md-2" })
                <div class="col-md-10">
                    @Html.EditorFor(model => model.Name)
                </div>
            </div>
            <div class="form-group">
                @Html.LabelFor(model => model.Description, htmlAttributes: new { @class = "control-label col-md-2" })
                <div class="col-md-10">
                    @Html.EditorFor(model => model.Description)
                </div>
            </div>
            <div class="form-group">
                @Html.LabelFor(model => model.CreateDate, htmlAttributes: new { @class = "control-label col-md-2" })
                <div class="col-md-10">
                    @Html.EditorFor(model => model.CreateDate)
                </div>
            </div>
            <div class="form-group">
                @Html.LabelFor(model => model.UpdateDate, htmlAttributes: new { @class = "control-label col-md-2" })
                <div class="col-md-10">
                    @Html.EditorFor(model => model.UpdateDate)
                </div>
            </div>
            @Html.HiddenFor(model => model.Code)
            @Html.HiddenFor(model => model.ModelCode)
      </div>
        <div id="modelInfo" style="display:none">
            <div class="form-group">
                @Html.LabelFor(model => model.SourceName, htmlAttributes: new { @class = "control-label col-md-2" })
                <div class="col-md-10">
                    @Html.EditorFor(model => model.SourceName)
                </div>
            </div>
            <div class="form-group">
                @Html.LabelFor(model => model.SourceType, htmlAttributes: new { @class = "control-label col-md-2" })
                <div class="col-md-10">
                    @Html.EditorFor(model => model.SourceType)
                </div>
            </div>
            <div class="form-group">
                @Html.LabelFor(model => model.OutputName, htmlAttributes: new { @class = "control-label col-md-2" })
                <div class="col-md-10">
                    @Html.EditorFor(model => model.OutputName)
                </div>
            </div>
            <div class="form-group">
                @Html.LabelFor(model => model.OutputType, htmlAttributes: new { @class = "control-label col-md-2" })
                <div class="col-md-10">
                    @Html.EditorFor(model => model.OutputType)
                </div>
            </div>
            <div class="form-group">
                @Html.LabelFor(model => model.WhereCaluse, htmlAttributes: new { @class = "control-label col-md-2" })
                <div class="col-md-10">
                    @Html.EditorFor(model => model.WhereCaluse)
                </div>
            </div>
            <div class="form-group">
                @Html.LabelFor(model => model.OrderFields, htmlAttributes: new { @class = "control-label col-md-2" })
                <div class="col-md-10">
                    @Html.EditorFor(model => model.OrderFields)
                </div>
            </div>
        </div>
        <input type="submit" value="保  存" class="btn btn-default" style="position:absolute; left:50%;bottom:15px; margin-left:-40px;width:80px;" />
        <div id="fieldsInfo" style="display:none;margin-left:10%">
        </div>
    </div>
}










































        @*<table class="UFTable">
                <tr>
                    <th>@Html.DisplayNameFor(model => model.Name)</th>
                    <th>@Html.DisplayNameFor(model => model.Description)</th>
                    <th>@Html.DisplayNameFor(model => model.CreateDate)</th>
                    <th>@Html.DisplayNameFor(model => model.UpdateDate)</th>
                    <th>@Html.DisplayNameFor(model => model.SourceName)</th>
                    <th>@Html.DisplayNameFor(model => model.OutputName)</th>
                    <th>@Html.DisplayNameFor(model => model.WhereCaluse)</th>
                    <th>@Html.DisplayNameFor(model => model.OrderFields)</th>
                </tr>
                @foreach (var item in Model)
                {
                    @*<tr style="border:1px">
                        <th>@item.Name</th>
                        <th>@item.Description</th>
                        <th>@item.CreateDate</th>
                        <th>@item.UpdateDate</th>
                        <th>@item.SourceName</th>
                        <th>@item.OutputName</th>
                        <th>@item.WhereCaluse</th>
                        <th>@item.OrderFields</th>
                    </tr>
                  <tr>
                      <th>@Html.DisplayFor(modelitem => item.Name)</th>
                      <th>@Html.DisplayFor(modelitem => item.Description)</th>
                      <th>@Html.DisplayFor(modelitem => item.CreateDate)</th>
                      <th>@Html.DisplayFor(modelitem => item.UpdateDate)</th>
                      <th>@Html.DisplayFor(modelitem => item.SourceName)</th>
                      <th>@Html.DisplayFor(modelitem => item.OutputName)</th>
                      <th>@Html.DisplayFor(modelitem => item.WhereCaluse)</th>
                      <th>@Html.DisplayFor(modelitem => item.OrderFields)</th>
                  </tr>
                    <tr>
                        <th>@Html.EditorFor(modelitem => item.Name)</th>
                        <th>@Html.DisplayFor(modelitem => item.Description)</th>
                        <th>@Html.EditorFor(model=>item.CreateDate)</th>
                        <th>@Html.EditorFor(model => item.UpdateDate)</th>
                        <th>@Html.EditorFor(model => item.SourceName)</th>
                        <th>@Html.EditorFor(model => item.OutputName)</th>
                        <th>@Html.EditorFor(model => item.WhereCaluse)</th>
                        <th>@Html.EditorFor(model => item.OrderFields)</th>
                    </tr>
                }
            </table>*@
        @*<div class="UFTable">
            @using (Ajax.BeginForm("", "", new AjaxOptions { }))
            {
                foreach (var item in Model)
                {
                    <div class="UFTable">
                        <div class="form-group">
                            @Html.DisplayNameFor(model => model.Name)
                            @*<div class="col-md-10">
                            @Html.EditorFor(modelitem => item.Name)
                            @*</div>
                        </div>
                        <div class="form-group">
                            @Html.DisplayNameFor(model => model.Description)
                            @*<div class="col-md-10">
                            @Html.EditorFor(modelitem => item.Description)
                            @*</div>
                        </div>
                        <div class="form-group">
                            @Html.DisplayNameFor(model => model.CreateDate)
                            @*<div class="col-md-10">
                            @Html.EditorFor(modelitem => item.CreateDate)
                            @*</div>
                        </div>
                        <div class="form-group">
                            @Html.DisplayNameFor(model => model.UpdateDate)
                            @*<div class="col-md-10">
                            @Html.EditorFor(modelitem => item.UpdateDate)
                            @*</div>
                        </div>
                        <div class="form-group">
                            @Html.DisplayNameFor(model => model.SourceName)
                            @*<div class="col-md-10">
                            @Html.EditorFor(modelitem => item.SourceName)
                            @*</div>
                        </div>
                        <div class="form-group">
                            @Html.DisplayNameFor(model => model.OutputName)
                            @*<div class="col-md-10">
                            @Html.EditorFor(modelitem => item.OutputName)
                            @*</div>
                        </div>
                        <div class="form-group">
                            @Html.DisplayNameFor(model => model.WhereCaluse)
                            @*<div class="col-md-10">
                            @Html.EditorFor(modelitem => item.WhereCaluse)
                            @*</div>
                        </div>
                        <div class="form-group">
                            @Html.DisplayNameFor(model => model.OrderFields)
                            @*<div class="col-md-10">
                            @Html.EditorFor(modelitem => item.OrderFields)
                            @*</div>
                        </div>
                    </div>
                <input type="submit" value="保  存" class="btn btn-default" style="position:absolute; left:50%;bottom:15px; margin-left:-40px;width:80px;" />
                }
            }
            </div>*@


