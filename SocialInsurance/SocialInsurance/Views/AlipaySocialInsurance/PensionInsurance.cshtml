@model SocialInsurance.Models.PensionInsurance
@{
    ViewBag.Title = "企业养老缴费信息查询";
    Layout =null;
}
<script>
    $("#toast").hide();
</script>
<style>
 .name {
        width: 25%;
        text-align: center;
      }
</style>
@if (Model.status == "200")
{
    <div class="am-list-footer" style="padding-top:10px;padding:15px 10px 10px 15px;">
        未查到你相关信息
    </div>

}
else
{
    if (Model.status == "100")
    {  
        <div class="am-list" am-mode="flat chip">
           @if(Model.cpage==1)
           {
             <div class="am-list-item">
                <div class="name am-ft-center">人员编号</div>
                <div class="name am-ft-center">缴费年度</div>
                <div class="name am-ft-center">缴费月数</div>
                <div class="name am-ft-center">缴费基数</div>
             </div>
            }
            <div id="resultmore">
                @foreach (var item in Model.msg)
                {
                    <div class="am-list-item">
                        <div class="name am-ft-center">@item.aac001</div>
                        <div class="name am-ft-center">@item.aae001</div>
                        <div class="name am-ft-center">@item.aif004</div>
                        <div class="name am-ft-center">@item.aif005</div>
                    </div>
                }
            </div>
            </div>

        if (Model.cpage < Model.pages && Model.cpage == 1)
        {
            <div id="morebutton">
                <div class="am-flexbox" am-mode="average" style="margin-top:15px;">
                    <div class="am-flexbox-item">
                        <button type="button" id="more" class="am-button am-button-blue">更多</button>
                    </div>
                </div>
            </div>
                 <div class="am-flexbox" am-mode="average" style="margin-top:15px;">
                    <div class="am-flexbox-item">
                        <button type="button" id="back" class="am-button am-button-blue">返回</button>
                    </div>
                </div>
        }
        }
}

<script>
    $(function () {
        var cpage=@(Model.cpage);
        var pages=@(Model.pages);
        if(cpage==pages)
        {
            $("#morebutton").hide();
        }
    });
    $("#more").click(function () {
        var cpage =@(Model.cpage) +1;
        var ID = $("#ID").val();
        var IDCard = $("#IDCard").val();
        var url = "../AlipaySocialInsurance/PensionInsurance?cpage=" + cpage;
        $.ajax({
            url: url,
            data: {
                ID: ID,
                IDCard:IDCard
            },
            success: function (msg)
            {
                $("#resultmore").append(msg);
            },
            error: function () { },
            complete: function () { }
        });
    });
    $("#back").click(function () {
        $("#result").hide();
        $("#list").show();
    });
</script>
